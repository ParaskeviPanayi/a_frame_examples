<!DOCTYPE html>
<html>

<head>
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  <style>
    #magnifying-glass {
      cursor: none;
    }
  </style>
</head>

<body>
  <a-scene>
    <!-- 360-degree image background -->
    <a-sky id="background2-image" src="materials/12.jpg"   rotation="0 0 0"></a-sky>

    <a-sky id="background-image" src="materials/12.jpg"  rotation="0 0 0" ></a-sky>

  
    <!-- Camera for the magnifying glass -->
    <a-camera id="magnifying-camera">
      <!-- Magnifying glass -->
      <a-circle id="magnifying-glass" position="0 0 -5" radius="0.5" material="shader: flat; transparent: true; "></a-circle>
    </a-camera>


  </a-scene>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      var background = document.querySelector('#background2-image');
      var magnifyingGlass = document.querySelector('#magnifying-glass');
      var magnifyingCamera = document.querySelector('#magnifying-camera');
      var renderer = document.querySelector('a-scene').renderer;

      function updateMagnifyingGlass(event) {
        var mouseX = event.clientX;
        var mouseY = event.clientY;

        var windowWidth = window.innerWidth;
        var windowHeight = window.innerHeight;

        var mouseXScene = (mouseX / windowWidth) * 2 - 1;
        var mouseYScene = -(mouseY / windowHeight) * 2 + 1;


        // Adjust the position of the magnifying glass to follow the mouse cursor
        magnifyingGlass.object3D.position.set(mouseXScene, mouseYScene, -1);

        // // Adjust the position of the camera to zoom in more
        magnifyingCamera.object3D.position.set(mouseXScene * 2, mouseYScene * 2, -5);
        // magnifyingCamera.setAttribute('fov', '100'); // Increase the FOV for zoom effect

        // Adjust the scale of the background image
        background.object3D.scale.set(10, 10, 10); // Increase the scale of the background image

        // Render the background image from the perspective of the magnifying camera
        renderer.render(background.object3D, magnifyingCamera.object3DMap.camera);

        // Update the magnifying glass texture
        magnifyingGlass.setAttribute('material', 'src', renderer.domElement.toDataURL());
      }

      document.addEventListener('mousemove', updateMagnifyingGlass);
    });
  </script>
</body>

</html>